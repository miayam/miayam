doctype html
html(lang="en")
  head
    include /atoms/head/index

    //- See src/config/webpack.common.js. We inject parameters there.

    <% if (admin) { %>
    //- It is for admin page
    script(src='https://unpkg.com/react@15/dist/react.min.js', type='text/javascript')
    script(src='https://unpkg.com/react-dom@15/dist/react-dom.min.js', type='text/javascript')
    script(src='https://identity.netlify.com/v1/netlify-identity-widget.js', type='text/javascript', async)
    <% } %>

    <% if (analytics) { %>
    //- Shamelessly track users. Uncomment it if you are ready to abuse your readers :(
    script(src='https://www.google-analytics.com/analytics.js', type='text/javascript', async)
    <% } %>
    <%= htmlWebpackPlugin.files.css.map((css) => `link(href=\'${css}\', rel='stylesheet')`).join('\n      ') %>
  body
      include ./layout

      //- Inject assets. 6 spaces is necessary, so that `HtmlWebpackPugPlugin` can translate this snippet to proper pug syntax.
      <%= htmlWebpackPlugin.files.js.map((js) => `script(src=\'${js}\', type='text/javascript', async)`).join('\n      ') %>
